import{_ as l,C as p,c as o,o as r,j as e,aA as a,a as s,G as n}from"./chunks/framework.B9yI0cv-.js";const j=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pages/code/experiment.md","filePath":"pages/code/experiment.md","lastUpdated":null}'),d={name:"pages/code/experiment.md"},h={class:"jldocstring custom-block",open:""},u={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},k={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},m={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""},b={class:"jldocstring custom-block",open:""},f={class:"jldocstring custom-block",open:""},F={class:"jldocstring custom-block",open:""},x={class:"jldocstring custom-block",open:""};function C(_,i,S,v,D,A){const t=p("Badge");return r(),o("div",null,[e("details",h,[e("summary",null,[i[0]||(i[0]=e("a",{id:"SindbadExperiment",href:"#SindbadExperiment"},[e("span",{class:"jlbinding"},"SindbadExperiment")],-1)),i[1]||(i[1]=s()),n(t,{type:"info",class:"jlObjectType jlModule",text:"Module"})]),i[2]||(i[2]=a(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SindbadExperiment</span></span></code></pre></div><p>The <code>SindbadExperiment</code> package provides tools for designing, running, and analyzing experiments in the SINDBAD MDI framework. It integrates SINDBAD packages and utilities to streamline the experimental workflow, from data preparation to model execution and output analysis.</p><p><strong>Purpose:</strong></p><p>This package acts as a high-level interface for conducting experiments using the SINDBAD framework. It leverages the functionality of core SINDBAD packages and provides additional utilities for running experiments and managing outputs.</p><p><strong>Dependencies:</strong></p><ul><li><p><code>Sindbad</code>: Provides the core SINDBAD models and types.</p></li><li><p><code>SindbadUtils</code>: Provides utility functions for handling data, spatial operations, and other helper tasks.</p></li><li><p><code>SindbadSetup</code>: Manages setup configurations, parameter handling, and shared types for SINDBAD experiments.</p></li><li><p><code>SindbadData</code>: Handles data ingestion, preprocessing, and management for SINDBAD experiments.</p></li><li><p><code>SindbadTEM</code>: Implements the SINDBAD Terrestrial Ecosystem Model (TEM), enabling simulations for single locations, spatial grids, and cubes.</p></li><li><p><code>SindbadOptimization</code>: Provides optimization algorithms for parameter estimation and model calibration.</p></li><li><p><code>SindbadMetrics</code>: Supplies metrics for evaluating model performance and comparing simulations with observations.</p></li></ul><p><strong>Included Files:</strong></p><ol><li><strong><code>runExperiment.jl</code></strong>:</li></ol><ul><li>Contains functions for executing experiments, including setting up models, running simulations, and managing workflows.</li></ul><ol start="2"><li><strong><code>saveOutput.jl</code></strong>:</li></ol><ul><li>Provides utilities for saving experiment outputs in various formats, ensuring compatibility with downstream analysis tools.</li></ul><p><strong>Notes:</strong></p><ul><li><p>The package re-exports core SINDBAD packages (<code>Sindbad</code>, <code>SindbadUtils</code>, <code>SindbadSetup</code>, <code>SindbadData</code>, <code>SindbadTEM</code>, <code>SindbadOptimization</code>, <code>SindbadMetrics</code>) for convenience, allowing users to access their functionality directly through <code>SindbadExperiment</code>.</p></li><li><p>Designed to be extensible, enabling users to customize and expand the experimental workflow as needed.</p></li><li><p>Future extensions may include support for additional data formats (e.g., NetCDF, Zarr) and advanced output handling.</p></li></ul><p><strong>Examples:</strong></p><ol><li><strong>Running an experiment</strong>:</li></ol><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SindbadExperiment</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set up experiment parameters</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">experiment_config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run the experiment</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentForward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(experiment_config)</span></span></code></pre></div>`,16))]),i[40]||(i[40]=e("h2",{id:"Exported",tabindex:"-1"},[s("Exported "),e("a",{class:"header-anchor",href:"#Exported","aria-label":'Permalink to "Exported {#Exported}"'},"​")],-1)),e("details",u,[e("summary",null,[i[3]||(i[3]=e("a",{id:"SindbadExperiment.prepExperiment-Tuple{String}",href:"#SindbadExperiment.prepExperiment-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.prepExperiment")],-1)),i[4]||(i[4]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[5]||(i[5]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prepExperiment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span></code></pre></div><p>Prepare experiment configuration, forcing data, and output settings.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li></ul><p><strong>Returns</strong></p><ul><li><p><code>info::NamedTuple</code>: A NamedTuple containing the experiment configuration</p></li><li><p><code>forcing::NamedTuple</code>: A NamedTuple containing the forcing data</p></li></ul><p><strong>Description</strong></p><p>This function initializes an experiment by:</p><ol><li><p>Reading and processing the experiment configuration</p></li><li><p>Setting up forcing data based on the configuration</p></li><li><p>Preparing output settings</p></li></ol>',9))]),e("details",g,[e("summary",null,[i[6]||(i[6]=e("a",{id:"SindbadExperiment.runExperiment",href:"#SindbadExperiment.runExperiment"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperiment")],-1)),i[7]||(i[7]=s()),n(t,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[8]||(i[8]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperiment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, forcing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RunFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run a SINDBAD experiment in different modes.</p><p><strong>Arguments</strong></p><ul><li><p><code>info::NamedTuple</code>: A SINDBAD NamedTuple containing all information needed for setup and execution of an experiment</p></li><li><p><code>forcing::NamedTuple</code>: A forcing NamedTuple containing the forcing time series set for ALL locations</p></li><li><p><code>mode::RunFlag</code>: Type dispatch parameter determining the mode of experiment:</p><ul><li><p><code>DoCalcCost</code>: Calculate cost between model output and observations</p></li><li><p><code>DoRunForward</code>: Run forward simulation without optimization</p></li><li><p><code>DoNotRunOptimization</code>: Run without optimization</p></li><li><p><code>DoRunOptimization</code>: Run with optimization enabled</p></li></ul></li></ul><p><strong>Returns</strong></p><ul><li><p>For <code>DoCalcCost</code> mode:</p><ul><li><code>(; forcing, info, loss=loss_vector, observation=obs_array, output=forward_output)</code></li></ul></li><li><p>For <code>DoRunForward</code> or <code>DoNotRunOptimization</code> mode:</p><ul><li><code>(; forcing, info, output=run_output)</code></li></ul></li><li><p>For <code>DoRunOptimization</code> mode:</p><ul><li><code>(; forcing, info, observation=obs_array, params=run_output)</code></li></ul></li></ul><p><strong>Description</strong></p><p>This function is the main entry point for running SINDBAD experiments. It supports different modes of simulation:</p><ul><li><p>Cost calculation: Compares model output with observations</p></li><li><p>Forward run: Executes the model without optimization</p></li><li><p>Optimization: Runs the model with parameter optimization</p></li></ul><p>The function handles different spatial configurations and can operate on both single-pixel and spatial domains.</p>',10))]),e("details",k,[e("summary",null,[i[9]||(i[9]=e("a",{id:"SindbadExperiment.runExperimentCost-Tuple{String}",href:"#SindbadExperiment.runExperimentCost-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentCost")],-1)),i[10]||(i[10]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[11]||(i[11]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentCost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Calculate cost for a given experiment through the <code>runExperiment</code> function in <code>DoCalcCost</code> mode.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :info)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing the experiment results including cost calculations</li></ul>',6))]),e("details",c,[e("summary",null,[i[12]||(i[12]=e("a",{id:"SindbadExperiment.runExperimentForward-Tuple{String}",href:"#SindbadExperiment.runExperimentForward-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentForward")],-1)),i[13]||(i[13]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[14]||(i[14]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentForward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run forward simulation for a given experiment through the <code>runExperiment</code> function in <code>DoRunForward</code> mode.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :info)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing the experiment results including model outputs</li></ul>',6))]),e("details",m,[e("summary",null,[i[15]||(i[15]=e("a",{id:"SindbadExperiment.runExperimentForwardParams-Tuple{Vector, String}",href:"#SindbadExperiment.runExperimentForwardParams-Tuple{Vector, String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentForwardParams")],-1)),i[16]||(i[16]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[17]||(i[17]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentForwardParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(params_vector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Vector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run forward simulation of the model with default as well as modified settings with input/optimized parameters through call of the <code>runTEM!</code> function.</p><p><strong>Arguments</strong></p><ul><li><p><code>params_vector::Vector</code>: Vector of parameters to use for the simulation</p></li><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :info)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing both default and optimized model outputs</li></ul>',6))]),e("details",y,[e("summary",null,[i[18]||(i[18]=e("a",{id:"SindbadExperiment.runExperimentFullOutput-Tuple{String}",href:"#SindbadExperiment.runExperimentFullOutput-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentFullOutput")],-1)),i[19]||(i[19]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[20]||(i[20]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentFullOutput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run forward simulation of the model through <code>runExperiment</code> function in <code>DoRunForward</code> mode but with all output variables saved.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :info)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing the complete model outputs</li></ul>',6))]),e("details",E,[e("summary",null,[i[21]||(i[21]=e("a",{id:"SindbadExperiment.runExperimentOpti-Tuple{String}",href:"#SindbadExperiment.runExperimentOpti-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentOpti")],-1)),i[22]||(i[22]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[23]||(i[23]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentOpti</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run optimization experiment through <code>runExperiment</code> function in <code>DoRunOptimization</code> mode, followed by forward run with optimized parameters.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :warn)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing optimization results, model outputs, and cost metrics</li></ul>',6))]),e("details",b,[e("summary",null,[i[24]||(i[24]=e("a",{id:"SindbadExperiment.runExperimentSensitivity-Tuple{String}",href:"#SindbadExperiment.runExperimentSensitivity-Tuple{String}"},[e("span",{class:"jlbinding"},"SindbadExperiment.runExperimentSensitivity")],-1)),i[25]||(i[25]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[26]||(i[26]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">runExperimentSensitivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sindbad_experiment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; replace_info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), batch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, log_level</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:warn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Run sensitivity analysis for a given experiment.</p><p><strong>Arguments</strong></p><ul><li><p><code>sindbad_experiment::String</code>: Path to the experiment configuration file</p></li><li><p><code>replace_info::Dict</code>: Dictionary of configuration overrides (default: empty Dict)</p></li><li><p><code>batch::Bool</code>: Whether to run sensitivity analysis in batch mode (default: true)</p></li><li><p><code>log_level::Symbol</code>: Logging level (default: :warn)</p></li></ul><p><strong>Returns</strong></p><ul><li>A NamedTuple containing sensitivity analysis results and related data</li></ul>',6))]),e("details",f,[e("summary",null,[i[27]||(i[27]=e("a",{id:"SindbadExperiment.saveOutCubes",href:"#SindbadExperiment.saveOutCubes"},[e("span",{class:"jlbinding"},"SindbadExperiment.saveOutCubes")],-1)),i[28]||(i[28]=s()),n(t,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[29]||(i[29]=a(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">saveOutCubes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data_path_base, global_metadata, var_pairs, data, data_dims, out_format, t_step, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> OutputStrategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">saveOutCubes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(info, out_cubes, output_dims, output_vars)</span></span></code></pre></div><p>saves the output variables from the run as one file</p><p><strong>Arguments:</strong></p><ul><li><p><code>data_path_base</code>: base path of the output file including the directory and file prefix</p></li><li><p><code>global_metadata</code>: a collection of global metadata information to write to the output file</p></li><li><p><code>data</code>: data to be written to file</p></li><li><p><code>data_dims</code>: a vector of dimension of data for each variable to be written to a file</p></li><li><p><code>var_pairs</code>: a tuple of pairs of sindbad variables to write including the field and subfield of land as the first and last element</p></li><li><p><code>out_format</code>: format of the output file</p></li><li><p><code>t_step</code>: a string for time step of the model run to be used in the units attribute of variables</p></li><li><p><code>&lt;: OutputStrategy</code>: Dispatch type indicating file output mode with the following options:</p><ul><li><p><code>::DoSaveSingleFile</code>: single file with all the variables</p></li><li><p><code>::DoNotSaveSingleFile</code>: single file per variable</p></li></ul></li></ul><p><strong>note: this function is overloaded to handle different dispatch types and the version with fewer arguments is used as a shorthand for the single file output mode</strong></p>`,5))]),i[41]||(i[41]=e("h2",{id:"Internal",tabindex:"-1"},[s("Internal "),e("a",{class:"header-anchor",href:"#Internal","aria-label":'Permalink to "Internal {#Internal}"'},"​")],-1)),e("details",F,[e("summary",null,[i[30]||(i[30]=e("a",{id:"SindbadExperiment.getModelDataArray-Union{Tuple{AbstractArray{<:Any, N}}, Tuple{N}} where N",href:"#SindbadExperiment.getModelDataArray-Union{Tuple{AbstractArray{<:Any, N}}, Tuple{N}} where N"},[e("span",{class:"jlbinding"},"SindbadExperiment.getModelDataArray")],-1)),i[31]||(i[31]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[32]||(i[32]=e("p",null,"Converts an N-dimensional array of any size into a output-compatible data array without the unnecessary dimension.",-1)),i[33]||(i[33]=e("p",null,[e("strong",null,"Arguments")],-1)),i[34]||(i[34]=e("ul",null,[e("li",null,[e("code",null,"_dat::AbstractArray{<:Any,N}"),s(": Input N-dimensional array of arbitrary type")])],-1)),i[35]||(i[35]=e("p",null,[e("strong",null,"Returns")],-1)),i[36]||(i[36]=e("p",null,"Output-compatible data array",-1))]),e("details",x,[e("summary",null,[i[37]||(i[37]=e("a",{id:"SindbadExperiment.getYaxForVariable-NTuple{5, Any}",href:"#SindbadExperiment.getYaxForVariable-NTuple{5, Any}"},[e("span",{class:"jlbinding"},"SindbadExperiment.getYaxForVariable")],-1)),i[38]||(i[38]=s()),n(t,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[39]||(i[39]=a('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">getYaxForVariable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data_out, data_dim, variable_name, catalog_name, t_step)</span></span></code></pre></div><p>Processes YAXArray for a specific variable from simulation output.</p><p><strong>Arguments</strong></p><ul><li><p><code>data_out</code>: Output data from the simulation</p></li><li><p><code>data_dim</code>: Dimensions of the data output variable</p></li><li><p><code>variable_name</code>: Name of the variable to save as</p></li><li><p><code>catalog_name</code>: Name in the SINDBAD catalog of variables</p></li><li><p><code>t_step</code>: Time resolution for which to extract the data</p></li></ul><p><strong>Returns</strong></p><p>YAXArray specified variable at the given time resolution.</p>',6))])])}const B=l(d,[["render",C]]);export{j as __pageData,B as default};
