import{_ as i,c as e,o as a,aA as n}from"./chunks/framework.C07RQYAL.js";const k=JSON.parse('{"title":"SINDBAD Spinup","description":"","frontmatter":{},"headers":[],"relativePath":"pages/manual/spinup.md","filePath":"pages/manual/spinup.md","lastUpdated":null}'),t={name:"pages/manual/spinup.md"};function p(l,s,h,d,o,r){return a(),e("div",null,s[0]||(s[0]=[n(`<h1 id="SINDBAD-Spinup" tabindex="-1">SINDBAD Spinup <a class="header-anchor" href="#SINDBAD-Spinup" aria-label="Permalink to &quot;SINDBAD Spinup {#SINDBAD-Spinup}&quot;">​</a></h1><p>Spinup is carried out in every experiment to take the model state to an equilibrium. The equilibrium is dependent on data, model and parameters, and should therefore, a Spinup is always required.</p><h2 id="Triggering-Spinup" tabindex="-1">Triggering Spinup <a class="header-anchor" href="#Triggering-Spinup" aria-label="Permalink to &quot;Triggering Spinup {#Triggering-Spinup}&quot;">​</a></h2><p>Spinup options are available in experiment settings file. First in the <code>flags</code> section as,</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;flags&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;spinup_TEM&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;store_spinup&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span></code></pre></div><p>where</p><ul><li><p><code>spinup_TEM</code> is the flag to activate the spinup of the model.</p></li><li><p><code>store_spinup</code> is the flag to activate store the spinup results from every spinup sequence.</p></li></ul><h2 id="Spinup-Setup" tabindex="-1">Spinup Setup <a class="header-anchor" href="#Spinup-Setup" aria-label="Permalink to &quot;Spinup Setup {#Spinup-Setup}&quot;">​</a></h2><p>The details of spinup are set through <code>model_spinup</code> section which looks like:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;model_spinup&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;restart_file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sequence&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;forcing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;all_years&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;n_repeat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;spinup_mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;all_forward_models&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><p>where</p><ul><li><p><code>restart_file</code> is the path to the restart file with the model states and pools from the previously saved simulation. <code>null</code> means no restart file.</p></li><li><p><code>sequence</code> is a vector of dictionary of spinup steps that are executed serially during the spinup of the model. Each spinup sequence consists of the</p><ul><li><p><code>forcing</code> is the forcing variant to be used during the sequence</p></li><li><p><code>n_repeat</code> is the number of times the sequence will be executed</p></li><li><p><code>spinup_mode</code> denotes the spinup method. It can be run of all the selected models in the structure, a subset of it, or any other method implemented</p></li></ul></li></ul><p>Depending on the experiment need, many sub-sequence can be added to spinup sequence with each of them following the same pattern.</p><h2 id="Which-spinup-methods-are-available" tabindex="-1">Which spinup methods are available <a class="header-anchor" href="#Which-spinup-methods-are-available" aria-label="Permalink to &quot;Which spinup methods are available {#Which-spinup-methods-are-available}&quot;">​</a></h2><p>Spinup methods are stored in spinup functions within SindbadTEM. The different methods are dispatched on types generated.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SindbadTEM</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?SindbadTEM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spinup</span></span></code></pre></div><h3 id="How-to-add-a-new-spinup-method" tabindex="-1">How to add a new spinup method <a class="header-anchor" href="#How-to-add-a-new-spinup-method" aria-label="Permalink to &quot;How to add a new spinup method {#How-to-add-a-new-spinup-method}&quot;">​</a></h3><p>Spinup methods are added as subtypes of <code>SindbadSpinupMethod</code> in <code>SinbadSetup</code>. The methods defined can be listed as,</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SindbadSetup</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtypes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SindbadSetup</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SindbadSpinupMethod)</span></span></code></pre></div><p>So, the first step to adding a method is to define a subtype of <code>SindbadSpinupMethod</code> in <code>runtimeDispatchTypes.jl</code> of <code>SinbadSetup</code>.</p><p>Once this is defined, a corresponding method has to be added in <code>spinupTEM</code> in <code>SindbadTEM</code>. Strictly follow the arguments using examples provided in the current methods to implement a new method.</p>`,21)]))}const c=i(t,[["render",p]]);export{k as __pageData,c as default};
